<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/phaser-ce/2.8.5/phaser.js"></script>
<script src="../VisualTimer.js"></script>
<script>

$(document).ready(function() {

    var game = new Phaser.Game(1200, 600, Phaser.AUTO,'',{ preload: preload, create: create });

    function preload(){
    // in preload
    game.load.spritesheet('timer', '../assets/img/timer.png', 150, 20);
    }

    function create(){
    // in create
    var indicator = new VisualTimer({
    					game: game,
    					x: 500,
    					y: 250,
    					seconds: 10,
              pulse:true,
    					tween:true,
    					onComplete: function() {console.log('Finished')}
    				});

    indicator.start();

    game.time.events.add(Phaser.Timer.SECOND * 5 ,endfunc);

    function endfunc(){
      indicator.end(1);
    }

    function stopfunc(){
      indicator.stop();
      console.log('stopped')
    }


  }

  });

</script>
